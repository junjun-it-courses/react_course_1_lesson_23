# Хук useContext

В React, данные передаются внутрь компонентов через пропсы с верхних уровней на 
нижние. Но иногда такой подход неудобен, при работе с глобальными данными, которые
нужны одновременно во многих компонентах на разных уровнях иерархии. К таким
данным относится текущий уровень, текущая тема (темная или светлая и т.п.). 
Напрямую передавать такие данные неудобно, придется протаскивать их сквозь все 
приложение. Для таких случаев в React добавили механизм контекстов. Он позволяет
передать в приложение и получить внутри любого компонента доступ к данным напрямую,
минуя пропсы.

Хук ```useContext()``` позволяет использовать контекст внутри компонента. Для этого
нужно выполнить три действия:

1. Инициализировать контекст в том же месте, где инициализируется приложение

```
// Параметром передается значение по умолчанию
// Имя контекста выбирается произвольно
const UserContext = React.createContext({});
```

2. Подключить провайдер и передать данные в контекст через пропс value.

```
// user – данные которые лежат внутри контекста
<UserContext.Provider value={user}>
  <MyComponent />
</UserContext.Provider>
```

3. Получить данные контекста

```
import React, { useContext } from 'react';

const MyComponent = () => {
  // Возвращает контекст целиком
  const user = useContext(UserContext);

  return <h1>{user.name}</h1>;
}
```

Вот другой пример контекста, в котором хранится текущая тема:

```
const themes = {
  light: {
    foreground: '#000000',
    background: '#eeeeee',
  },
  dark: {
    foreground: '#ffffff',
    background: '#222222',
  },
};

const ThemeContext = React.createContext(
  themes.dark, // значение по умолчанию
);
```

И где-то внутри приложения:

```
<ThemeContext.Provider value={/* текущая тема */}>
  <Content />
</ThemeContext.Provider>
```

Внутри контекста может хранится как примитивное значение, так и объект. Изменение
содержимого такого объекта никак не отслеживается React, поэтому не приводит к
перерендеру. Но если заменить сам объект, то из-за изменившейся ссылки React
узнает об изменении и выполнит перерисовку компонентов внутри провайдера.

Контекст удобный механизм для некоторых особых ситуаций, но он не должен 
становиться основным способом передачи данных внутрь приложения. Такой соблазн 
появляется у многих, кто использует его впервые. Главная проблема контекстов – 

связывание компонентов с глобальными данным, а это затрудняет их повторное 